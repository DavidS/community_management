<html>
<title>PRs that require review</title>
<head>
<script src='./web_libraries/jquery.min.js' type='text/javascript'></script>
<script src='./web_libraries/sorttable.js'></script><link rel='stylesheet' href='./web_libraries/bootstrap.min.css'>
<script src="./web_libraries/tablefilter.js"></script>
<style>
#reviews {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  font-size: 15px;
  border-collapse: collapse;
  width: 50%;


}
.word_break {
  word-break: break-all;
  width: auto;
}
#reviews td, #reviews th {
  border: 1px solid #ddd;
  padding: 8px;
}

#reviews tr:nth-child(even){background-color: #f2f2f2;

 }

#reviews tr:hover {background-color: #ddd;
 }

#reviews th {
  padding-top: 9px;
  padding-bottom: 9px;
  text-align: left;
  background-color: #cfcfcf;
  color: black;
 
}


</style>
</head>
<body>
<h1>PRs that require review</h1>
<table border='1' id='reviews' style='width:100%' class='test'> 
<thead>
<tr>
<% open_prs.first.keys.each do |header| %>
  <% if header != :address %>
    <th> <%= header %></th> 
  <% end %> 
<% end %>
</tr>
</thead>

<% open_prs.each do |row| %>
  <tr>
  <% row.each do |key, value| %>
  <%  if key == :pr %>
      <td><a target ="_blank" href='<%= row[:address] %>/pull/<%= value %>'><%= value %></a></td>
  <%  elsif key == :repo %>
      <td><a target ="_blank" href='<%= row[:address] %>'><%= value %></a></td>
  <%  else %>
      <% if key != :address %>
       <td><p class="word_break"><%= value %></p></td>
      <% end %>
  <%  end %>
  <% end %>
  </tr>
<% end %> 
</table>

</body>
<script>
  testFilter = new tablefilter("testFilter", ["test"], true, 1000)
</script>
</html>
